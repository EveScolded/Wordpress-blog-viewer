(this["webpackJsonpwordpress-blog-viewer"]=this["webpackJsonpwordpress-blog-viewer"]||[]).push([[0],{10:function(t,e,s){t.exports={sideBar:"SideBar_sideBar__1NZHR",domainListTitle:"SideBar_domainListTitle__1E35E",domainListItem:"SideBar_domainListItem__1qPV9",domainForm:"SideBar_domainForm__1ZqRw",domainInput:"SideBar_domainInput__1nKx8"}},31:function(t,e,s){t.exports={postList:"PostList_postList__1e6nB"}},33:function(t,e,s){t.exports={button:"Button_button__2ilvj"}},38:function(t,e,s){},40:function(t,e,s){},6:function(t,e,s){t.exports={post:"Post_post__2L8F7",postImg:"Post_postImg__3Qzb7",postTitle:"Post_postTitle__3HVtS",postExcerpt:"Post_postExcerpt__2LA2E",postDateLink:"Post_postDateLink__1yESR",postDate:"Post_postDate__3MAep",postLink:"Post_postLink__5G5Bz"}},65:function(t,e){},85:function(t,e,s){"use strict";s.r(e);var n=s(1),a=s.n(n),i=s(30),o=s.n(i),r=(s(38),s(9)),c=s.n(r),d=s(7),u=s(13),l=s(2),p=s(3),m=s(5),j=s(4),h=(s(40),s(31)),b=s.n(h),f=s(32),O=s.n(f),v=s(6),x=s.n(v),_=s(0),g=function(t){Object(m.a)(s,t);var e=Object(j.a)(s);function s(){return Object(l.a)(this,s),e.apply(this,arguments)}return Object(p.a)(s,[{key:"renderDate",value:function(){var t=new Date(this.props.post.date);return"".concat(("0"+t.getDate()).slice(-2),".").concat(("0"+(t.getMonth()+1)).slice(-2),".").concat(t.getFullYear())}},{key:"render",value:function(){return Object(_.jsxs)("div",{className:x.a.post,children:[Object(_.jsx)("img",{className:x.a.postImg,src:this.props.post._embedded["wp:featuredmedia"][0].media_details.sizes.full.source_url}),Object(_.jsx)("h3",{className:x.a.postTitle,children:this.props.post.title.rendered}),Object(_.jsx)("p",{className:x.a.postExcerpt,children:O()(this.props.post.excerpt.rendered)}),Object(_.jsxs)("div",{className:x.a.postDateLink,children:[Object(_.jsxs)("div",{className:x.a.postDate,children:["\ud83d\udd51 ",this.renderDate()]}),Object(_.jsxs)("div",{className:x.a.postLink,children:["\ud83c\udf10 ",Object(_.jsx)("a",{href:this.props.post.link,children:"Link"})]})]})]})}}]),s}(a.a.Component),L=function(t){Object(m.a)(s,t);var e=Object(j.a)(s);function s(){return Object(l.a)(this,s),e.apply(this,arguments)}return Object(p.a)(s,[{key:"render",value:function(){return Object(_.jsx)("ul",{className:b.a.postList,children:this.props.posts.map((function(t){return Object(_.jsx)(g,{post:t})}))})}}]),s}(a.a.Component),k=s(33),D=s.n(k),N=function(t){Object(m.a)(s,t);var e=Object(j.a)(s);function s(){return Object(l.a)(this,s),e.apply(this,arguments)}return Object(p.a)(s,[{key:"render",value:function(){return Object(_.jsx)("button",{className:D.a.button,onClick:this.props.onClick,children:this.props.children})}}]),s}(a.a.Component),w=s(10),S=s.n(w),B=function(t){Object(m.a)(s,t);var e=Object(j.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).inputConfirm=function(t){"Enter"===t.key&&(t.preventDefault(),n.props.addNewDomain(t.target.value.replace(/\/$/,"")),t.target.value="")},n.showDeleteButtons=function(){n.setState({deleteButtons:!n.state.deleteButtons})},n.deleteDomainHandler=function(t,e){n.props.deleteDomain(t,e),n.setState({deleteButtons:!n.state.deleteButtons})},n.state={deleteButtons:!1},n}return Object(p.a)(s,[{key:"render",value:function(){var t=this;return Object(_.jsxs)("div",{className:S.a.sideBar,children:[Object(_.jsxs)("form",{className:S.a.domainForm,children:[Object(_.jsx)("label",{children:"Add domain"}),Object(_.jsx)("input",{className:S.a.domainInput,onKeyDown:this.inputConfirm})]}),Object(_.jsxs)("div",{className:S.a.domainListTitle,children:["Added domain:",Object(_.jsx)(N,{onClick:this.showDeleteButtons,children:"edit"})]}),Object(_.jsx)("ul",{children:this.props.domainList.map((function(e,s){return Object(_.jsxs)("div",{className:S.a.domainListItem,children:[Object(_.jsx)("li",{children:e}),t.state.deleteButtons&&Object(_.jsx)(N,{onClick:function(){return t.deleteDomainHandler(e,s)},children:"x"})]})}))})]})}}]),s}(a.a.Component),y=function(){function t(e){Object(l.a)(this,t),this.domain=void 0,this.domain=e}return Object(p.a)(t,[{key:"getPosts",value:function(){var t=Object(u.a)(c.a.mark((function t(){var e,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.domain+"/wp-json/wp/v2/posts?_embed");case 2:return e=t.sent,t.next=5,e.json();case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),I=function(t){Object(m.a)(s,t);var e=Object(j.a)(s);function s(t){var n;return Object(l.a)(this,s),(n=e.call(this,t)).addNewDomain=function(){var t=Object(u.a)(c.a.mark((function t(e){var s,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((s=localStorage.getItem("domains"))&&(!s||s.includes(e))){t.next=16;break}return t.prev=2,t.next=5,n.getPosts(e);case 5:(a=s?Object(d.a)(JSON.parse(s)):Object(d.a)(n.state.domainsList)).push(e),n.setState({domainsList:a},(function(){return localStorage.setItem("domains",JSON.stringify(n.state.domainsList))})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),alert("Incorrect domain!"),console.log(t.t0.message);case 14:t.next=17;break;case 16:alert("Domain already exsists.");case 17:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),n.deleteDomain=function(t,e){var s=Object(d.a)(n.state.domainsList);s.splice(e,1),n.setState({domainsList:s},(function(){return localStorage.setItem("domains",JSON.stringify(n.state.domainsList))}));var a=Object(d.a)(n.state.posts).filter((function(e){return!e.link.includes(t)}));n.setState({posts:a})},n.state={posts:[],domainsList:[]},n}return Object(p.a)(s,[{key:"getPosts",value:function(t){var e=this;return new y(t).getPosts().then((function(t){var s=[].concat(Object(d.a)(e.state.posts),Object(d.a)(t)).sort((function(t,e){return new Date(e.date).getTime()-new Date(t.date).getTime()}));e.setState({posts:s})}))}},{key:"componentDidMount",value:function(){var t=this,e=JSON.parse(localStorage.getItem("domains"));e&&(this.setState({domainsList:e}),e.forEach((function(e){t.getPosts(e)})))}},{key:"render",value:function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("header",{className:"appHeader",children:"Amazing post viewer"}),Object(_.jsxs)("div",{className:"app",children:[Object(_.jsx)("div",{className:"sideBar",children:Object(_.jsx)(B,{addNewDomain:this.addNewDomain,domainList:this.state.domainsList,deleteDomain:this.deleteDomain})}),Object(_.jsx)("div",{className:"postList",children:this.state.posts.length?Object(_.jsx)(L,{posts:this.state.posts}):this.state.domainsList.length?Object(_.jsx)("div",{className:"dot-overtaking"}):Object(_.jsx)("p",{children:"Add domain to view posts."})})]})]})}}]),s}(a.a.Component),P=I,C=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,86)).then((function(e){var s=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,o=e.getTTFB;s(t),n(t),a(t),i(t),o(t)}))};o.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(P,{})}),document.getElementById("root")),C()}},[[85,1,2]]]);
//# sourceMappingURL=main.9d49f952.chunk.js.map