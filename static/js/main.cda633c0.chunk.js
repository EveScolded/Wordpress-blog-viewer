(this["webpackJsonpwordpress-blog-viewer"]=this["webpackJsonpwordpress-blog-viewer"]||[]).push([[0],{30:function(t,e,s){t.exports={postList:"PostList_postList__1e6nB"}},32:function(t,e,s){t.exports={button:"Button_button__2ilvj"}},38:function(t,e,s){},39:function(t,e,s){},6:function(t,e,s){t.exports={post:"Post_post__2L8F7",postImg:"Post_postImg__3Qzb7",postTitle:"Post_postTitle__3HVtS",postExcerpt:"Post_postExcerpt__2LA2E",postDateLink:"Post_postDateLink__1yESR",postDate:"Post_postDate__3MAep",postLink:"Post_postLink__5G5Bz"}},64:function(t,e){},85:function(t,e,s){"use strict";s.r(e);var n=s(1),a=s.n(n),i=s(29),o=s.n(i),r=(s(38),s(7)),c=s(2),d=s(3),l=s(5),u=s(4),p=(s(39),s(30)),m=s.n(p),j=s(31),h=s.n(j),b=s(6),O=s.n(b),f=s(0),v=function(t){Object(l.a)(s,t);var e=Object(u.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(d.a)(s,[{key:"renderDate",value:function(){var t=new Date(this.props.post.date);return"".concat(("0"+t.getDate()).slice(-2),".").concat(("0"+(t.getMonth()+1)).slice(-2),".").concat(t.getFullYear())}},{key:"render",value:function(){return Object(f.jsxs)("div",{className:O.a.post,children:[Object(f.jsx)("img",{className:O.a.postImg,src:this.props.post._embedded["wp:featuredmedia"][0].media_details.sizes.full.source_url}),Object(f.jsx)("h3",{className:O.a.postTitle,children:this.props.post.title.rendered}),Object(f.jsx)("p",{className:O.a.postExcerpt,children:h()(this.props.post.excerpt.rendered)}),Object(f.jsxs)("div",{className:O.a.postDateLink,children:[Object(f.jsxs)("div",{className:O.a.postDate,children:["\ud83d\udd51 ",this.renderDate()]}),Object(f.jsxs)("div",{className:O.a.postLink,children:["\ud83c\udf10 ",Object(f.jsx)("a",{href:this.props.post.link,children:"Link"})]})]})]})}}]),s}(a.a.Component),x=function(t){Object(l.a)(s,t);var e=Object(u.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(f.jsx)("ul",{className:m.a.postList,children:this.props.posts.map((function(t){return Object(f.jsx)(v,{post:t})}))})}}]),s}(a.a.Component),_=s(32),g=s.n(_),L=function(t){Object(l.a)(s,t);var e=Object(u.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(f.jsx)("button",{className:g.a.button,onClick:this.props.onClick,children:this.props.children})}}]),s}(a.a.Component),D=s(9),N=s.n(D),k=function(t){Object(l.a)(s,t);var e=Object(u.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t)).inputConfirm=function(t){"Enter"===t.key&&(t.preventDefault(),n.props.addNewDomain(t.target.value),t.target.value="")},n.showDeleteButtons=function(){n.setState({deleteButtons:!n.state.deleteButtons})},n.deleteDomainHandler=function(t,e){n.props.deleteDomain(t,e),n.setState({deleteButtons:!n.state.deleteButtons})},n.state={deleteButtons:!1},n}return Object(d.a)(s,[{key:"render",value:function(){var t=this;return Object(f.jsxs)("div",{className:N.a.sideBar,children:[Object(f.jsxs)("form",{className:N.a.domainForm,children:[Object(f.jsx)("label",{children:"Add domain"}),Object(f.jsx)("input",{className:N.a.domainInput,onKeyDown:this.inputConfirm})]}),Object(f.jsxs)("div",{className:N.a.domainListTitle,children:["Added domain:",Object(f.jsx)(L,{onClick:this.showDeleteButtons,children:"edit"})]}),Object(f.jsx)("ul",{className:N.a.domainList,children:this.props.domainList.map((function(e,s){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("li",{children:e}),t.state.deleteButtons&&Object(f.jsx)(L,{onClick:function(){return t.deleteDomainHandler(e,s)},children:"x"})]})}))})]})}}]),s}(a.a.Component),w=s(14),S=s.n(w),B=s(33),y=function(){function t(e){Object(c.a)(this,t),this.domain=void 0,this.domain=e}return Object(d.a)(t,[{key:"getPosts",value:function(){var t=Object(B.a)(S.a.mark((function t(){var e,s;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(this.domain+"wp-json/wp/v2/posts?_embed");case 2:return e=t.sent,t.next=5,e.json();case 5:return s=t.sent,t.abrupt("return",s);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),P=function(t){Object(l.a)(s,t);var e=Object(u.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t)).addNewDomain=function(t){var e=localStorage.getItem("domains");if(!e||e&&!e.includes(t)){var s=e?Object(r.a)(JSON.parse(e)):Object(r.a)(n.state.domainsList);s.push(t),n.setState({domainsList:s},(function(){return localStorage.setItem("domains",JSON.stringify(n.state.domainsList))})),n.getPosts(t)}else alert("Domain already exsists.")},n.deleteDomain=function(t,e){var s=Object(r.a)(n.state.domainsList);s.splice(e,1),n.setState({domainsList:s},(function(){return localStorage.setItem("domains",JSON.stringify(n.state.domainsList))}));var a=Object(r.a)(n.state.posts).filter((function(e){return!e.link.includes(t)}));n.setState({posts:a})},n.state={posts:[],domainsList:[]},n}return Object(d.a)(s,[{key:"getPosts",value:function(t){var e=this;new y(t).getPosts().then((function(t){var s=[].concat(Object(r.a)(e.state.posts),Object(r.a)(t)).sort((function(t,e){return new Date(e.date).getTime()-new Date(t.date).getTime()}));e.setState({posts:s})}))}},{key:"componentDidMount",value:function(){var t=this,e=JSON.parse(localStorage.getItem("domains"));e&&(this.setState({domainsList:e}),e.forEach((function(e){t.getPosts(e)})))}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("header",{className:"appHeader",children:"Amazing post viewer"}),Object(f.jsxs)("div",{className:"app",children:[Object(f.jsx)("div",{className:"sideBar",children:Object(f.jsx)(k,{addNewDomain:this.addNewDomain,domainList:this.state.domainsList,deleteDomain:this.deleteDomain})}),Object(f.jsx)("div",{className:"postList",children:this.state.posts.length?Object(f.jsx)(x,{posts:this.state.posts}):this.state.posts?Object(f.jsx)("p",{children:"Add domain to view posts."}):Object(f.jsx)("div",{className:"dot-overtaking"})})]})]})}}]),s}(a.a.Component),C=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,86)).then((function(e){var s=e.getCLS,n=e.getFID,a=e.getFCP,i=e.getLCP,o=e.getTTFB;s(t),n(t),a(t),i(t),o(t)}))};o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(P,{})}),document.getElementById("root")),C()},9:function(t,e,s){t.exports={sideBar:"SideBar_sideBar__1NZHR",domainListTitle:"SideBar_domainListTitle__1E35E",domainList:"SideBar_domainList__1XgRB",domainForm:"SideBar_domainForm__1ZqRw",domainInput:"SideBar_domainInput__1nKx8"}}},[[85,1,2]]]);
//# sourceMappingURL=main.cda633c0.chunk.js.map